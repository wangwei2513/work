<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>无标题文档</title>
    <style>
        * {
            margin: 0px;
            padding: 0px;
            border: 0px;
        }
        
        #box {
            position: absolute;
            left: 85px;
            top: 143px;
            width: 553px;
            height: 310px;
            overflow: hidden;
        }
        
        #box ul {
            width: 600px;
            height: 300px;
            list-style: none;
            position: absolute;
            left: 0px;
            top: 0px;
            z-index: 1;
        }
        
        #box ul li {
            float: left;
        }
        
        #box ul img {
            width: 600px;
            height: 300px;
        }
        
        #btn {
            width: 90px;
            height: 50px;
            position: absolute;
            right: 0px;
            top: 17px;
            z-index: 2;
        }
        
        #btn div {
            width: 8px;
            height: 8px;
            border: 1px solid #666;
            float: left;
            margin-left: 10px;
            border-radius: 8px;
        }
        
        #btn .active {
            background: #F90;
        }
        
        .icon {
            position: absolute;
            left: 0px;
            top: 20px;
            width: 8px;
            z-index: 1;
            height: 8px;
            border-radius: 8px;
            background: #969594;
        }
        
        .color_fir {
            background: #F90;
        }
    </style>
</head>

<body background="images/bg.png" leftmargin="0" topmargin="0">
    <!--顶部-->
    <div style="position:absolute;left:1025px;top:44px; width:188px; height:40px;">
        <table border="0" cellpadding="0" cellspacing="0" width="100%" height="100%" style="font-size:16px; color:rgba(230,244,255,.7); text-align:center; line-height:20px;">
            <tr>
                <td width="89" style="border-right:1px solid rgba(230,244,255,.7);"><span style="font-size:18px;">晴转多云</span><br/>20℃-30℃</td>
                <td width="98"><span style="font-size:20px;">11:29:30</span><br/>2016/11/18</td>
            </tr>
        </table>
    </div>

    <div id="box">

        <ul>
            <li><img id="a0" src="images/pic1_1.jpg"></li>
            <li><img id="a1" src="images/pic1_1.jpg"></li>
            <li><img id="a2" src="images/pic1_1.jpg"></li>
            <li><img id="a3" src="images/pic1_1.jpg"></li>
            <li><img id="a4" src="images/pic1_1.jpg"></li>
        </ul>
        <div style="position:absolute;left:0px;bottom:0px; width:553px;z-index:1; height:49px; line-height:49px; background:rgba(0,0,0,.5);">
            <div style="position:absolute;left:10px;top:0px; width:553px;line-height:49px; font-size:22px; color:#dadada;">全国14个集中连片特困地区，习近平都去了</div>
            <div style="position:absolute;right:0px;top:0px;width:74px;">
                <div id="btn">
                    <div class="color_fir"></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
    </div>
    <div style="position:absolute;left:648px;top:140px;"><img id="menu0" src="images/pic1_2.jpg" width="268" height="150"></div>

    <div style="position:absolute;left:926px;top:140px;"><img id="menu1" src="images/pic1_3.jpg" width="268" height="150"></div>

    <div style="position:absolute;left:648px;top:300px;"><img id="menu2" src="images/pic1_4.jpg" width="268" height="150"></div>

    <div style="position:absolute;left:926px;top:300px;"><img id="menu3" src="images/pic1_5.jpg" width="268" height="150"></div>

    <div style="position:absolute;left:648px;top:460px;"><img id="menu4" src="images/pic1_6.jpg" width="175" height="150"></div>
    <div style="position:absolute;left:834px;top:460px;"><img id="menu5" src="images/pic1_7.jpg" width="175" height="150"></div>
    <div style="position:absolute;left:1019px;top:460px;"><img id="menu6" src="images/pic1_8.jpg" width="175" height="150"></div>
    <div style="position:absolute;left:85px;top:460px; width:553px; height:151px; background:rgba(221,99,8,.9);">
        <table border="0" cellpadding="0" cellspacing="0" width="100%" height="100%" style="font-size:24px; color:#fff;">
            <tr>
                <td id="list0" style="padding-left:10px;">·习近平总书记“7·26”重要讲话要点</td>
            </tr>
            <tr>
                <td id="list1" style="padding-left:10px; background:rgba(204,85,27,.8);">·习近平关于系统治水有哪些重要论述和重大部署</td>
            </tr>
            <tr>
                <td id="list2" style="padding-left:10px;">·刘云山看望慰问北戴河暑期休假专家</td>
            </tr>
        </table>
    </div>

    <div style="position:absolute;left:122px;top:646px; width:810px; line-height:25px; font-size:24px; color:#dabfbf;">中共山东省委组织部 山东省科技厅关于开展第三批科技副职选派工作的通知</div>

    <!--焦点-->
    <div id="bigFocus" style="position: absolute; left: 56px; top: 116px; width: 622px; height: 373px;z-index:3">
        <table border="0" cellpadding="0" cellspacing="0" width="100%" height="100%">
            <tr>
                <td width="60" height="60" style="background:url(images/focus01.png);"></td>
                <td style="background:url(images/focus02.png);"></td>
                <td width="60" height="60" style="background:url(images/focus03.png);"></td>
            </tr>
            <tr>
                <td style="background:url(images/focus04.png);"></td>
                <td></td>
                <td style="background:url(images/focus05.png);"></td>
            </tr>
            <tr>
                <td width="60" height="60" style="background:url(images/focus06.png);"></td>
                <td style="background:url(images/focus07.png);"></td>
                <td width="60" height="60" style="background:url(images/focus08.png);"></td>
            </tr>
        </table>
    </div>

    <script type="text/javascript" src="js/keyevent.js"></script>
    <script type="text/javascript" src="js/sportFrame.js"></script>
    <script src="js/common.js"></script>
    <script>
        document.onkeydown = eventHandler;

        function eventHandler(e) {
            var e = e || event;
            var keycode = e.keyCode || e.which || e.charCode;
            var eventObj = Event.mapping(keycode);
            switch (eventObj.code) {
                case "KEY_UP":
                    keyUp();
                    return false;
                    break;
                case "KEY_DOWN":
                    keyDown();
                    return false;
                    break;
                case "KEY_LEFT":
                    keyLeft();
                    return false;
                    break;
                case "KEY_RIGHT":
                    keyRight();
                    return false;
                    break;
                case "KEY_SELECT":

                    return false;
                    break;
                case "KEY_EXIT":
                case "KEY_BACK":
                    window.location.href = "../index.htm";
                    return false;
                    break;
            }
        }
        var menuData = [],
            ajaxObj = null,
            leftImgData = null,
            rightImgData = null,
            listData = null,
            pos = 0;
        var oBox = document.getElementById('box');
        var oUl = oBox.getElementsByTagName('ul')[0];
        var aImg = oUl.getElementsByTagName('img');
        var oBtn = document.getElementById('btn');
        var aBtn = oBtn.getElementsByTagName('div');
        var leftBtn = document.getElementsByClassName('btn01')[0];
        var rightBtn = document.getElementsByClassName('btn02')[0];
        var timer1 = null;
        var img0 = document.getElementById("a0")
        var count = 1; //第一个指针
        var m = 4; //第二个指针
        //下面代码段的功能： 给数组aBtn的对象加索引，加点击事件，在事件处理程序中，先把所有的背景清除
        // 在单独增加当前对象的背景，再调用运动框架
        for (var i = 0; i < aBtn.length; i++) {
            aBtn[i].index = i;
            aBtn[i].onclick = function() {
                for (var i = 0; i < aBtn.length; i++) {
                    aBtn[i].className = '';
                }
                aBtn[this.index].className = 'active';

                count = m = this.index;

                sport(oUl, 'left', -this.index * cssStyle(img0, 'width'));
            };

        }
        cssStyle(oUl, 'width', cssStyle(aImg[0], 'width') * aImg.length); //扩大 ul宽度
        timer1 = setInterval(function() {
            if (count < aImg.length) //利用计数器让UL对象运动到相应的终点 运动的过程中 控制按钮的背景
            {
                for (var i = 0; i < aBtn.length; i++) {
                    aBtn[i].className = '';
                }
                if (count < 4) {
                    aBtn[count].className = 'active';
                    sport(oUl, 'left', -count * cssStyle(img0, 'width'));
                    count++;
                } else {
                    aBtn[0].className = 'active';
                    sport(oUl, 'left', -count * cssStyle(img0, 'width'));
                    setTimeout(function() {
                        count = 1;
                        oUl.style.left = "0px";
                    }, 2000);
                }
            }
        }, 3000);

        // 加载menu数据
        function ajaxLoadMenuData() {
            if (ajaxObj == null) {
                ajaxObj = new ajaxClass();
                ajaxObj.charset = "gbk";
                ajaxObj.frame = window;
            } else {
                ajaxObj.requestAbort();
            }

            ajaxObj.url = "../" + navData[navPos].enName + "/" + menuPath;
            // 
            ajaxObj.successCallback = function(_xmlHttp) {
                var getData = eval("(" + _xmlHttp.responseText + ")");
                menuData = getData;
                for (var i = 0; i < menuData.length; i++) {
                    if (menuData[i].focusImageUrl) {
                        if (menuData[i].linkUrl) {
                            var obj = {
                                "focusImageUrl": focusImageUrl,
                                "name": name,
                                "linkUrl": menuData[i].linkUrl
                            }
                            leftImgData.push(obj);
                        } else {
                            var obj = {
                                "focusImageUrl": focusImageUrl,
                                "name": name,
                                "enName": menuData[i].enName
                            }
                            rightImgData.push(obj)
                        }
                    } else {
                        var obj = {
                            "title": menuData[i].name,
                            "linkUrl": menuData[i].linkUrl,
                            "enName": menuData[i].enName
                        }
                        listData.push(obj)
                    }
                }
                initMenu();
            }

            ajaxObj.failureCallback = function() {

            }

            ajaxObj.requestData();
        }

        // 渲染menu
        function initMenu() {
            emptyRightImg();

            for (var i = 0; i < rightImgData.length; i++) {
                $("menu" + i).src = rightImgData[i].focusImageUrl;
            }
            for (var i = 0; i < leftImgData.length; i++) {
                $("a" + i).src = leftImgData[i].focusImageUrl;

            }
            $("a4").src = leftImgData[0].focusImageUrl;
            for (var i = 0; i < listData.length; i++) {
                $("list" + i).src = listData[i].name;
            }
        }

        // 清空menu
        function emptyImg() {
            for (var i = 0; i < 7; i++) {
                $("menu" + i).src = "";
            }
            for (var i = 0; i < leftImgData.length; i++) {
                $("a" + i).src = "";

            }
            $("a4").src = "";
        }

        // 上
        function keyUp() {
            if (pos > 8) {
                pos--;
                textFocus();
            } else if (pos == 8) {
                pos = 0;
                emptyTextColor();
                bigPicFocus();
            } else if (pos > 2 && pos < 5) {
                pos -= 2;
                sPicFocus();
            } else if (pos > 4 && pos < 7) {
                pos = 3;
                sPicFocus();
            } else if (pos == 7) {
                pos = 4;
                sPicFocus();
            }
        }

        // 下
        function keyDown() {
            if (pos == 0) {
                pos = 8;
                bigPicBlur();
                textFocus();
            } else if (pos > 7 && pos < 10) {
                pos++;
                textFocus();
            } else if (pos > 0 && pos < 3) {
                pos += 2;
                sPicFocus();
            } else if (pos == 3 || pos == 4) {
                pos += 2;
                sPicFocus();
            }
        }
        // 左
        function keyLeft() {
            if (pos == 1 || pos == 3 || pos == 5) {
                pos = 0;
                emptySpic();
                bigPicFocus();
            } else if (pos == 2 || pos == 4 || pos == 6 || pos == 7) {
                pos--;
                sPicFocus();
            }
        }
        // 右
        function keyRight() {
            if (pos == 0) {
                pos = 1;
                bigPicBlur();
                sPicFocus();
            } else if (pos > 7 && pos < 11) {
                pos = 1;
                emptyTextColor();
                sPicFocus();
            } else if (pos == 1 || pos == 3 || pos == 5 || pos == 6) {
                pos++;
                sPicFocus();
            }
        }
        // 大图片框焦点显示
        function bigPicFocus() {
            $("bigFocus").style.visibility = "visible";
        }
        // 大图片框焦点消失
        function bigPicBlur() {
            $("bigFocus").style.visibility = "hidden";
        }
        // 小图片焦点
        function sPicFocus() {
            emptySpic();
            $("menu" + (pos - 1)).parentNode.style.border = "5px solid #ffa400"
        }
        // 清楚小图片焦点
        function emptySpic() {
            for (var i = 0; i < rightImgData.length; i++) {
                $("menu" + i).parentNode.style.border = "";
            }
        }
        // 文字栏目焦点
        function textFocus() {
            emptyTextColor();
            $("list" + (pos - 8)).style.color = "#ffa400";
        }
        // 清楚文字焦点
        function emptyTextColor() {
            for (var i = 0; i < listData.length; i++) {
                $("list" + i).style.color = "#fff";
            }
        }
    </script>

</body>

</html>