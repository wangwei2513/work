function getUrlParams(_key, _url, _spliter) {
	/**
	 * 获取标准URL的参数
	 * @_key：字符串，不支持数组参数（多个相同的key）
	 * @_url：字符串，（window）.location.href，使用时别误传入非window对象
	 * @_spliter：字符串，参数间分隔符
	 * 注意：
	 * 	1、如不存在指定键，返回空字符串，方便直接显示，使用时注意判断
	 * 	2、非标准URL勿用（hash部分除外）
	 * 	3、query（？）与hash（#）中存在键值一样时，以数组返回
	 */
	if (typeof(_url) == "object") {
		var url = _url.location.href;
	} else {
		var url = _url ? _url : window.location.href;
	}
	if (url.indexOf("?") == -1 && url.indexOf("#") == -1) {
		return "";
	}
	var spliter = _spliter || "&";
	var haveQuery = false;
	if (url.indexOf("?") != -1) {
		var urlParams = url.split("?")[1];
		if (urlParams.indexOf(spliter) != -1) {
			urlParams = urlParams.split(spliter);
		} else {
			urlParams = [urlParams];
		}
		haveQuery = true;
	} else {
		var urlParams = [url];
	}
	if (urlParams[urlParams.length - 1].indexOf("#") != -1) {
		var urlTemp = urlParams[urlParams.length - 1].split("#");
		urlParams[urlParams.length - 1] = urlTemp[0];
		var hash = urlTemp[1];
		if (hash.indexOf(spliter) != -1) {
			hash = hash.split(spliter);
		} else {
			hash = [hash];
		}
		if (haveQuery == true) {
			urlParams = urlParams.concat(hash);
		} else {
			urlParams = hash;
		}
	}
	var valueArr = [];
	for (var i = 0, len = urlParams.length; i < len; i++) {
		var params = urlParams[i].split("=");
		if (params[0] == _key) {
			valueArr.push(params[1]);
		}
	}
	if (valueArr.length > 0) {
		if (valueArr.length == 1) {
			return valueArr[0];
		}
		return valueArr;
	}
	return "";
}

//返回字符串汉字长度 英文或特殊字符两个相当于一个汉字
/*
 *str:传入的字符串
 *len:字符串的最大长度,汉字的长度
 *返回截取的字符串
 */
function getStrChineseLen(str,len,suffix){
	var w = 0;
	str = str.replace(/[ ]*$/g,"");
	if(getStrChineseLength(str)>len){
		for (var i=0; i<str.length; i++) {
			 var c = str.charCodeAt(i);
			 var flag = 0;
			 //单字节加1
			 if ((c >= 0x0001 && c <= 0x007e) || (0xff60<=c && c<=0xff9f)) {
			   w++;
			   flag = 0;
			 }else {
			   w+=2;
			   flag = 1;
			 }
			 if(parseInt((w+1)/2)>len){
				if (flag == 1)return str.substring(0,i-1)+suffix;//修改,sunny,防止换行...
				else return str.substring(0,i-1)+suffix;
				break;
			 }
		 
		} 
	}
	return str; 
}

function getStrChineseLength(str){
	iDebug("yanch homedconfig getStrChineseLength str="+str+";type="+typeof str)
	str = str.replace(/[ ]*$/g,"");
	var w = 0;
	for (var i=0; i<str.length; i++) {
     var c = str.charCodeAt(i);
     //单字节加1
     if ((c >= 0x0001 && c <= 0x007e) || (0xff60<=c && c<=0xff9f)) {
       w++;
     }else {
       w+=2;
     }
    } 	
	var length = w % 2 == 0 ? (w/2) : (parseInt(w/2)+1) ;
	return length;
  
}