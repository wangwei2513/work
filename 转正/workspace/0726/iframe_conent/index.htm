<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta name="page-view-size" content="1280*720">
<title></title>
<style>
p { display: block; -webkit-margin-before: 0em; -webkit-margin-after: 0em; -webkit-margin-start: 0px; -webkit-margin-end: 0px;text-indent:2em;}
#content img{padding:0px 10px 0px 0px;}
</style>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript">
var columnAjaxObj = null;

function eventHandler(keycode){
  switch (keycode) {
    case 1:   // up
    case 38:
      contentArea.changeUD(-1);
      return false;
      break;
    case 2:   // down
    case 40:  
      contentArea.changeUD(1);
      return false;
      break;
    case 32:
    case 339:
    case 640:
    case 8:
    case 27:
    case 340:
      clearFocus();
      parent.focusArea = 0;
      parent.showFocus();
      return false;
      break;
    case 3:   // left,back
    case 37:
      clearFocus();
      parent.focusArea = 0;
      parent.showFocus();
      return false;
      break;
    case 4:   // right
    case 39:
      return false;
      break;
    case 13:
      return false;
      break;
  }
}

function showFocus() {
  $("listBarDiv").style.background = "#ffff00";
}

function clearFocus() {
  $("listBarDiv").style.background = "#558589";
}

function init(){
  contentArea = new innerNode();    //实例化innerNode构造成员
  contentArea.panelData = parent.window.nodeContent[0];
  contentArea.init();
}

window.onload = function(){
  init();
}


var innerNode = function() {};
innerNode.prototype = {
  itemPos:0,
  panelData:[],
  pageContent:324,
  maxTitleSize:28,
  scrollBox:null,
  init: function() {
      if(typeof(this.panelData) != "undefined" && this.panelData != ""){
        this.currPage = 0;
        //this.initTitle();  
        $("nowTitle").innerText = parent.nowTitle;    
        this.initContent();
      }else{
        this.noItemData();
      }
  },
  changeUD: function(_num) {
      if(this.currPage==0&&_num<0 || this.currPage == this.totalPage-1&&_num>0 || this.scrollBox==null){
        return;
      }else{
        this.currPage = this.currPage+_num;
      }
      this.initContent();
      this.scrollBox.scroll(this.currPage);
      $("content").style.top = -this.pageContent*this.currPage+"px";
  },
  noItemData: function() {
      $("content").innerText = "暂无数据";
      this.noScrollBar();
  },
  initTitle: function() {
      $("navTitle").innerHTML = this.panelData.title;
      if(getStrChineseLength(this.panelData.title) > this.maxTitleSize){
        $("navTitle").innerHTML = "<marquee width=840 scrollamount=7\">"+this.panelData.title+"</marquee>";
      }
  },
  initContent: function() {
    if(this.panelData.content == ""){
      $("content").innerHTML = "暂无相关介绍";
    }else{
      $("content").innerHTML = this.panelData.content;
    }
    $("content").style.top = -this.pageContent*this.currPage+"px";
    var that = this;
    setTimeout(function(){
        that.totalPage = Math.floor($("content").offsetHeight/that.pageContent)+1;
        that.initScroll();
    },200);
  },
  initScroll: function() {
    if(this.totalPage > 1){
        $("listBarDiv").style.visibility = "visible";
        this.scrollBox = new ScrollBar("listBarDiv", "listBarDiv", window);
        this.scrollBox.init(this.totalPage, 1, 438, 0, 41);
        this.scrollBox.scroll(this.currPage);
    }else{
        this.noScrollBar();
    }
  },
  noScrollBar: function() {
    $("listBarDiv").style.visibility = "hidden";
    this.scrollBox = null;
  }
}
</script>
</head>
<body leftmargin="0" topmargin="0" style="position:absolute;top:0;left:0;background:transparent;">
    <div style="position:absolute; top:3px; left:11px; width:500px; height:50px;padding-left:16px; font-size:30px; color:#4a671c;">><span id="nowTitle"></span></div>
    <!-- 标题下横线 -->
    <div style="position:absolute; top:54px; left:11px; width:837px; height:1px; background-color: #BDCDDF; layer-background-color: #BDCDDF;"></div>   
    <div style="position: absolute; left: -40px; top: -17px; width: 860px; height: 468px;">
      <!--标题-->
<!--       <div id="navTitle" style="position: absolute; left: 45px; top: 28px; width: 880px; height: 71px; font-size: 30px; color: #000000; line-height: 71px; text-align: center; border-bottom: 1px; font-weight: 600">
      </div> -->
      <!--内容容器-->
      <div style="position: absolute; left: 74px; top: 88px; width: 795px; height: 406px; overflow: hidden;">
        <!-- 实际内容区 -->
        <div id="content" style="position: absolute; left: 0px; top: 0px; width: 795px;font-size: 24px;font-family:SimSun;">
        </div>
      </div>
      <!--翻页栏-->
      <div style="position:absolute;right:-48px;top:71px; width:13px;height:438px; background:url(images/page_bg1.png);" id="scrollBarDiv">
        <div style="position:absolute; left:-7px; top:40px;  width:13px;height:41px; background:#558589;visibility:hidden" id="listBarDiv">
        </div>
      </div>
    </div>    
</body>
</html>
