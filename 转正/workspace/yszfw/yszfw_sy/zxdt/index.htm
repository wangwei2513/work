<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>04内容页</title>
<script type="text/javascript" src="js/keborad.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<!--<script type="text/javascript" src="js/menuData.js"></script>-->
<script type="text/javascript" src="js/config.js"></script>
<style>
p{
  margin:0;
  padding:0; 
  text-indent:2em;
}
.base_riht1 {
    height: 203px;
    line-height: 35px;
}
.base_gmid1 {
    height: 203px;
    line-height: 35px;
}
.boder_top {
    border-top: none;
}
.base_left {
    height: 35px;
    float: left;
    font-size: 13px;
    font-family: '宋体';
    text-align: center;
    width: 100px;
    background: #e7f2f2;
    border-right: 1px solid #cdcdcd;
}
.boder_top {
    border-top: none;
}
.base_right2 {
    font-size: 13px;
    font-family: '宋体';
    line-height: 35px;
}
.base_gmid2 {
    text-align: right;
    margin-right: 5px;
}
.tablewyxx {
    height: auto;
    overflow: hidden;
    border-left: 1px solid #cdcdcd;
    border-right: 1px solid #cdcdcd;
    border-top: 1px solid #cdcdcd;
    clear: both;
    width: 756px;
}
.tablewyxx1 {
    height: auto;
    overflow: hidden;
    border: 1px solid #cdcdcd;
    clear: both;
    width: 756px;
}
.base_right {
    height: 35px;
    float: left;
    font-size: 13px;
    font-family: '宋体';
    width: 654px;
    text-align: left;
    overflow: auto;
}
</style>
<script>
initPage(window);
var pageIndex = 1;
var totalPage = 1;
var index = 0;
var tid = 0;
var size = 0;
var navNum = 0;
var listHomePagePos = 0;
var informationFocusArea = 1;
var newsCenterRightPos = 0;
var newsCenterLeftPos = 0;
var newsCenterFocusArea = 1;
var keyProjectLeftPos = 0;
var administrationFocusArea = 1;
var intoFocusArea = 1;
var contentFile = "content.js"
var listPos = getGlobalParms("listPos")?getGlobalParms("listPos"):0;

var newsCenter = 0;
var infomation = 0;
var administration = 0;
var newsCenterPagePos = 0;

function grabEvent(){
  var eventObj = Event.mapping(event);
  iDebug("index grabEvent eventObj.code="+eventObj.code);
  switch(eventObj.code){
    case "KEY_UP":
      UdMove(-1);
      break;
    case "KEY_DOWN":
      UdMove(1);
      break;
    case "KEY_LEFT":
      LrMove(-1);
      break;
    case "KEY_RIGHT":
      LrMove(1);
      break;  
    case "KEY_SELECT":
      doSelect();
      break;
    case "KEY_MENU":
      return;
      break;
    case "KEY_EXIT":
      return false;
      break;
     case "KEY_BACK":
      doBack();
      break;
  }
  return eventObj.args.type;
}
/*上下键*/

function UdMove(_num){
  return false;
}

function LrMove(_num){
  if(_num < 0){
    if(newsCenterPagePos == 0){
      return false;
    }else{
      loseNewsCenterPage();
      newsCenterPagePos --;
      getNewsCenterPage();
    }
  }else{
    if(newsCenterPagePos == 1){
      return false;
    }else{
      loseNewsCenterPage();
     newsCenterPagePos ++;
      getNewsCenterPage();
    }
  }
}

function doSelect(){
  if(newsCenterPagePos == 0){
    changePage(-1);
  }else if(newsCenterPagePos == 1){
    changePage(1);
  }
}

function doBack(){
  window.location.herf = "../../index.htm"
}
/*
  *Ajax请求
*/
function ajaxLoadContentData(){
  ajaxobj = null;
  if(ajaxobj != null) {
      ajaxobj.requestAbort();
    }
    ajaxobj = new ajaxClass();
    ajaxobj.frame = window;
    ajaxobj.charset = "gb2312";
    ajaxobj.successCallback = function(_xmlHttp, _params) {
      var jsonData = eval('(' + _xmlHttp.responseText + ')');
      if(typeof(jsonData) != "undefined" && jsonData.length > 0){
        contentData = jsonData;
          initContent();
        
        
      }
    };
    ajaxobj.failureCallback = function(_xmlHttp, _params) {
    };
    
    var url = contentFile;
         
 // "../"+
    ajaxobj.url = url;
    ajaxobj.requestData();
}

/*获取、失去上下页部分的焦点*/
function getNewsCenterPage(){
  if(newsCenterPagePos == 0){
    $("newsCenterPrePage").style.background = "url(images/pageUdFocus.png)";
  }else if(newsCenterPagePos == 1){
    $("newsCenterNextPage").style.background = "url(images/pageUdFocus.png)";
  }
}

function loseNewsCenterPage(){
  if(newsCenterPagePos == 0){
    $("newsCenterPrePage").style.background = "url(images/pageUd.png)";
  }else if(newsCenterPagePos == 1){
    $("newsCenterNextPage").style.background = "url(images/pageUd.png)";
  }
}

/*
*显示内容
*/
function initContent(_pos){
  var content = contentData[listPos].content;
  var title = contentData[listPos].title;
  if(content == null || typeof(content) == "null") content = "暂无内容";
  
   $("contentTitle").innerText = title;
   $("content").innerHTML = content;
  var contentHeight = parseInt($("content").offsetHeight);
  
  totalPage = Math.ceil(contentHeight/368);
  $("newsCenterTotalPage").innerText = totalPage;
  scrollLen = parseInt(368/totalPage) - 20 +"px" ;
  if(scrollLen < 101){
    $("scroll1").style.height = scrollLen;
    $("scroll2").style.top = parseInt(scrollLen) + 10 + "px";
  }else{
      $("scroll1").style.height = "101px";
      $("scroll2").style.top = "111px";
  }
  $("scroll").style.top = "74px";
  //iDebug("initContent scrollLen " + scrollLen + ";;initContent totalPage=" + totalPage + ";;initContent top=" + $("scroll").style.top);
}
/*
*翻页
*/
function changePage(_num){
  if( totalPage < 2 ) return;
  if(( pageIndex == 1 && _num < 0 ) || ( pageIndex == totalPage && _num > 0 )) return;  
  pageIndex += _num;
  $("newsCenterCurrPage").innerText = pageIndex;
  $("content").style.top = -((pageIndex-1)*368)+"px";
  $("scroll").style.top =  (pageIndex - 1) * parseInt(scrollLen) + 74 +  "px";
  //iDebug("scrollLen top" + $("scroll").style.top);
  //iDebug("top" + $("content").style.top);
}

function init(){
 ajaxLoadContentData();
  getNewsCenterPage();
}
</script>	
</head>

<body style="background:url(images/bg4.jpg) no-repeat;" topmargin="0" leftmargin="0" onload="init();">
	<!--标题-->
	<div style="position:absolute;left:330px;top:53px; width:24px; height:28px;"><img src="images/arrow_title00.png" width="24" height="28"></div>
	<div style="position:absolute;left:389px;top:47px; font-size:28px;color:#e81010; font-family:微软雅黑; font-weight:bold;">新闻中心</div>
	
	<!--内容区-->
	<div style="position:absolute;left:59px;top:132px; width:1158px; height:512px; background:url(images/tab_zfbg3.png);">
		<div style="position:absolute;top:56px;width:1160px; height:1px; background:#a1c4de;"></div>
		<div id="contentTitle" style="position:absolute;top:0px; width:1162px; text-align:center;font-size:26px;color:#000; line-height:64px;"></div>
		<div style="position:absolute;left:23px;top:82px; width:1094px; height:368px;overflow:hidden">
      <div id="content" style=" position:absolute; top:0px; left:0px; width:100%; height:auto;font-size:22px;color:#000; text-align:justify; line-height:42px;"> 
      </div>  
    </div>
		<!--滚动条-->
		<div id="scroll" style="position:absolute;left:1136px;top:74px; width:8px; height:216px;">
			<div id="scroll0" style="position:absolute;top:0px; width:8px; height:10px;"><img src="images/page0_1.png" width="8" height="10"/></div>
			<div id="scroll1" style="position:absolute;top:10px; width:8px; height:101px; background:url(images/page0_2.png);"></div>
			<div id="scroll2" style="position:absolute;top:111px; width:8px; height:10px;"><img src="images/page0_3.png" width="8" height="10"/></div>
		</div>

    <!--上下键-->
      <div id="newsCenterCurrPage" style="position:absolute;left:806px;top:520px;width:30px;height:38px;line-height:38px;text-align:center;font-size:24px;color:#000000;">1</div>
      <div style="position:absolute;left:826px;top:520px;width:30px;height:38px;line-height:38px;text-align:center;font-size:24px;color:#000000;">/</div>
      <div id="newsCenterTotalPage" style="position:absolute;left:846px;top:520px;width:30px;height:38px;line-height:38px;text-align:center;font-size:24px;color:#000000;"></div>
      <div id="newsCenterPrePage" style="position:absolute;left:906px;top:520px;width:118px;height:38px;background:url(images/pageUd.png);line-height:38px;text-align:center;font-size:24px;color:#000000;">上一页</div>
      <div id="newsCenterNextPage" style="position:absolute;left:1036px;top:520px;width:118px;height:38px;background:url(images/pageUd.png);line-height:38px;text-align:center;font-size:24px;color:#000000;">下一页</div>
	</div>
	
</body>
</html>
